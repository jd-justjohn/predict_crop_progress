import numpy as np


norm_vals_quantiles = {
            'all_crops_means': np.array([5.7876225, 6.02459  , 6.455621 , 6.3102975, 6.872111 , 7.576292 ,
                                       7.753199 , 7.7936535, 7.849358 , 7.877576 , 7.6148305, 7.1007524,
                                       5.9450693, 6.1714416, 6.586268 , 6.4846296, 7.0102267, 7.708947 ,
                                       7.893194 , 7.937222 , 7.9865003, 8.00663  , 7.7441716, 7.2540226,
                                       6.063099 , 6.2756586, 6.674921 , 6.6068454, 7.1003366, 7.786236 ,
                                       7.974479 , 8.020421 , 8.065496 , 8.081676 , 7.821233 , 7.352621 ,
                                       6.1909037, 6.385304 , 6.7670856, 6.734291 , 7.1910725, 7.851978 ,
                                       8.042981 , 8.087856 , 8.130725 , 8.1461525, 7.8898425, 7.449619 ,
                                       6.4088793, 6.5739264, 6.9239798, 6.9497056, 7.342103 , 7.9393997,
                                       8.131119 , 8.171796 , 8.212383 , 8.229621 , 7.986236 , 7.604263]),
           'all_crops_stdevs': np.array([0.8586693 , 0.6634901 , 0.49224627, 0.74976707, 0.49262244,
                                       0.41080266, 0.44459805, 0.43407494, 0.4261616 , 0.4211224 ,
                                       0.46904024, 0.62797976, 0.78489816, 0.63946384, 0.46576026,
                                       0.7326972 , 0.4619385 , 0.3644823 , 0.41624543, 0.39770553,
                                       0.3908314 , 0.38607153, 0.40923485, 0.5875893 , 0.7186435 ,
                                       0.6146774 , 0.4587293 , 0.7156425 , 0.44763005, 0.33849934,
                                       0.39718935, 0.37415287, 0.36884996, 0.3628684 , 0.37667263,
                                       0.5608414 , 0.6830093 , 0.5912343 , 0.43283907, 0.68477535,
                                       0.42782336, 0.317114  , 0.38028064, 0.35617542, 0.34990057,
                                       0.34512746, 0.34257042, 0.52361244, 0.6477472 , 0.59564155,
                                       0.4312979 , 0.61610204, 0.39374995, 0.28925762, 0.35197845,
                                       0.33080262, 0.32408628, 0.31603432, 0.30744657, 0.4620188])
             }

def normalize(X, Y, crop='corn'):
    Y = Y[np.all(X > 0, axis=1), :]
    X = X[np.all(X > 0, axis=1), :]
    return (np.log(X) - norm_vals_quantiles[crop + '_means']) / norm_vals_quantiles[crop + '_stdevs'], Y

# means_ = np.array([6.0327573, 6.290839, 6.691273, 6.63656, 7.116921, 7.788275,
#        7.977958, 8.02139, 8.070433, 8.088675, 7.84131, 7.389418])
#
# stdevs_ = np.array([0.81428736, 0.63173527, 0.47528076, 0.7584638, 0.48651397,
#    0.35625926, 0.41182348, 0.38492793, 0.37940097, 0.3752155,
#    0.3995582, 0.5896098])
#
# def normalize(X, Y, crop='corn'):
#     Y = Y[np.all(X > 0, axis=1), :]
#     X = X[np.all(X > 0, axis=1), :]
#     return (np.log(X[:, 24:36]) - means_) / stdevs_, Y